<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Imágenes Amigas de Nuestro Entorno</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 2em;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    .galeria {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1em;
      margin-top: 2em;
    }
    .galeria img {
      width: 220px;
      border-radius: 6px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .galeria img:hover {
      transform: scale(1.05);
    }

    .visor {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 999;
      padding: 1em;
    }
    .visor img {
      max-width: 90%;
      max-height: 80vh;
      border-radius: 6px;
    }
    .descripcion {
      color: #fff;
      margin-top: 1em;
      font-size: 1.1em;
      max-width: 90%;
      white-space: pre-line;
    }
    .cerrar {
      position: absolute;
      top: 1em;
      right: 1em;
      font-size: 2em;
      color: #fff;
      cursor: pointer;
    }
    .flechas {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      padding: 0 1em;
      z-index: 1000;
    }
    .flechas span {
      font-size: 3em;
      color: #fff;
      cursor: pointer;
      user-select: none;
      width: 2em;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Imágenes Amigas de Nuestro Entorno</h1>

  <div class="galeria">
    <img
      src="Foto_001_Expacionavalmoral.jpg"
      alt="Parque empresarial en Navalmoral de la Mata"
      data-desc="23 de mayo de 2021. Expacionavalmoral ha sido protagonista estos días en la actualidad morala, entre otras cosas, por el aterrizaje de emergencia de una avioneta en una de sus avenidas. Buen momento para incluir esta fotografía, que nos ha hecho llegar Yoguifly’s, en “Imágenes Amigas de nuestro entorno”.">

    <img
      src="Foto_002_trafico.jpg"
      alt="Tráfico en la peatonal"
      data-desc="15 de abril de 2022. Así va el tráfico en la peatonal de Navalmoral de la Mata.">

    <img
      src="Foto_003_orquidea.jpg"
      alt="Orquídea silvestre"
      data-desc="9 de abril de 2021. Apoyada en una orquídea (ophrys scolopax), esta abeja (apis mellifera) parece estar reflexionando sobre su existencia, esperando a su pareja o averigua tú…, pero aquí donde la vemos obtuvo la mención especial “Premio al mejor participante local” con el título Relamiendo_scolopax en el concurso Ochydarium 2019, y es la protagonista en esta ocasión de “Imágenes amigas de nuestro entorno”. La escena fue captada por Fernando Sánchez Castilla en el Sierro de Almaraz.">

    <img
      src="Foto_004_mirador_Las_Ollas.jpg"
      alt="Mirador Las Hollas"
      data-desc="3 de abril de 2021. El mirador en el Paraje Las Ollas, en Cuacos de Yuste, protagonista este mes en “Imágenes amigas de nuestro entorno”. | PdE">

    <img
      src="Foto_005_fuente-la-Teja.jpg"
      alt="Fuente La Teja"
      data-desc="28 de marzo de 2021. Ya se deja notar la primavera en Navalmoral, con su paleta de colores en la fuente de la Teja y sus alrededores. Fuente la Teja en Navalmoral de la Mata. | Yoguifly’s | PdE">

  </div>

  <div class="visor" id="visor">
    <span class="cerrar" onclick="cerrarVisor()">×</span>
    <div class="flechas">
      <span onclick="cambiarImagen(-1)">‹</span>
      <span onclick="cambiarImagen(1)">›</span>
    </div>
    <img id="imagenGrande" src="" alt="">
    <div class="descripcion" id="descripcion"></div>
  </div>

  <script>
    const imagenes = document.querySelectorAll('.galeria img');
    const visor = document.getElementById('visor');
    const imagenGrande = document.getElementById('imagenGrande');
    const descripcion = document.getElementById('descripcion');
    let indiceActual = 0;

    imagenes.forEach((img, i) => {
      img.addEventListener('click', () => {
        indiceActual = i;
        mostrarImagen();
      });
    });

    function mostrarImagen() {
      const img = imagenes[indiceActual];
      imagenGrande.src = img.src;
      imagenGrande.alt = img.alt;
      descripcion.textContent = img.dataset.desc;
      visor.style.display = 'flex';
    }

    function cerrarVisor() {
      visor.style.display = 'none';
    }

    function cambiarImagen(direccion) {
      indiceActual = (indiceActual + direccion + imagenes.length) % imagenes.length;
      mostrarImagen();
    }

    document.addEventListener('keydown', e => {
      if (visor.style.display === 'flex') {
        if (e.key === 'ArrowRight') cambiarImagen(1);
        if (e.key === 'ArrowLeft') cambiarImagen(-1);
        if (e.key === 'Escape') cerrarVisor();
      }
    });
  </script>

</body>
</html>
